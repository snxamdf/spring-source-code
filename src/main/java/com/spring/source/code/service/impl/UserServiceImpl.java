package com.spring.source.code.service.impl;import com.spring.source.code.dao.UserDao;import com.spring.source.code.service.UserService;import com.spring.source.code.transaction.TransactionUtils;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import org.springframework.transaction.TransactionStatus;/** * @author * @description * @date 2020/1/8 */@Servicepublic class UserServiceImpl implements UserService {    @Autowired    private UserDao userDao;    @Autowired    private TransactionUtils transactionUtils;    //    public void add() throws Exception {//        TransactionStatus transactionStatus = null;//        try {//            transactionStatus = transactionUtils.begin();//            userDao.add("张三一", 20);//            //int i = 1 / 0;//            userDao.add("张三二", 23);//            System.out.println("UserServiceImpl");//            transactionUtils.commit(transactionStatus);//        } catch (Exception e) {//            e.printStackTrace();//            if (transactionStatus != null) {//                transactionUtils.rollback(transactionStatus);//            }//            throw e;//        }//    }    public void add() throws Exception {        userDao.add("张三一", 20);        int i = 1 / 0;        userDao.add("张三二", 23);        System.out.println("UserServiceImpl");    }}